---
import type { GameStats } from "../../types";
import GameCard from "./GameCard.astro";

import "../styles/global.css";

interface GameListProps {
  gameStats: GameStats[];
}

// export default function GameList(props: GameListProps) {
//   const [sortOrder, setSortOrder] = useState("offensive");
//   const [year, setYear] = useState(2025);

type SortOrder = "total" | "offensive" | "defensive" | "scenario";
const sortOrder: SortOrder = "offensive";
const { gameStats } = Astro.props as GameListProps;

const gameStatsSorted = gameStats.sort((a, b) => {
  return sortOrder === "offensive"
    ? b.offensiveRating - a.offensiveRating
    : sortOrder === "defensive"
      ? b.defensiveBigPlays - a.defensiveBigPlays
      : sortOrder === "scenario"
        ? b.scenarioRating - a.scenarioRating
        : b.totalRating - a.totalRating;
});
---

<div>
  {
    /* <div class="flex gap-2 w-full">
        <p class="flex-grow-1 font-bold text-xl">
          Year {year}
        </p>
        <button onClick={() => setYear(2021)}>
          2021
        </Button>
        <Button onClick={() => setYear(2022)}>
          2022
        </Button>
        <Button onClick={() => setYear(2023)}>
          2023
        </Button>
        <Button onClick={() => setYear(2024)}>
          2024
        </Button>
        <Button onClick={() => setYear(2025)}>
          2025
        </Button>
      </div> */
  }
  <br />
  {
    /* <div class="flex gap-2 w-full">
        <p class="flex-grow-1 font-bold text-xl">
          Sorted by {sortOrder} rating ⬇
        </p>
        <Button onClick={() => setSortOrder("offensive")}>
          Offensive rating ⬇
        </Button>
        <Button onClick={() => setSortOrder("scenario")}>
          Scenario rating ⬇
        </Button>
        <Button onClick={() => setSortOrder("defensive")}>
          Defensive rating ⬇
        </Button>
        <Button onClick={() => setSortOrder("total")}>Total rating ⬇</Button>
      </div> */
  }
  <br />
  <div
    class="grid grid-cols-1 gap-8 sm:!gap-x-10 sm:!grid-cols-2 lg:!grid-cols-3 lg:!gap-x-12 lg:!gap-y-10"
  >
    {
      gameStatsSorted.map((gameStats: GameStats) => (
        <GameCard gameStats={gameStats} />
      ))
    }
  </div>
</div>
